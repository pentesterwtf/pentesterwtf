<!doctype html><html><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>Jumpboxes are not a mitigation for credential theft - Pentester, wtf!?</title><meta name=viewport content="width=device-width,initial-scale=1"><meta property="og:title" content="Jumpboxes are not a mitigation for credential theft"><meta property="og:description" content="Advice no one reads from Microsoft, but probably should have. Jumpservers are Fake News(TM)"><meta property="og:type" content="article"><meta property="og:url" content="/blog/2019/ms-win10-credential-theft-mitigation/"><meta property="article:published_time" content="2019-08-05T19:00:00+10:00"><meta property="article:modified_time" content="2019-08-05T19:00:00+10:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Jumpboxes are not a mitigation for credential theft"><meta name=twitter:description content="Advice no one reads from Microsoft, but probably should have. Jumpservers are Fake News(TM)"><link href="https://fonts.googleapis.com/css?family=Ubuntu:300,400,300italic,400italic|Raleway:500,100,300" rel=stylesheet><link rel=stylesheet type=text/css media=screen href=/css/normalize.css><link rel=stylesheet type=text/css media=screen href=/css/main.css></head><body><div class="container wrapper post"><div class=header><a href=/><img src=/images/header.png alt="Break things, write reports"></a><div class=site-description></div><nav class=nav><ul class=flat><li><a href=/>home</a></li><li><a href=/categories/>Categories</a></li><li><a href=/tags/>Tags</a></li></ul></nav></div><div class=post-header><h1 class=title>Jumpboxes are not a mitigation for credential theft</h1><div class=meta>Posted at &mdash; Aug 5, 2019</div></div><div class=markdown><h2 id=tldr>tl;dr</h2><p>Microsoft said it themselves, Jumpservers aren&rsquo;t a mitigation for credential theft</p><h2 id=what>What</h2><p>From Microsoft, Windows 10 Credential Theft Mitigation Guide: <a href=https://download.microsoft.com/download/C/1/4/C14579CA-E564-4743-8B51-61C0882662AC/Windows%2010%20credential%20theft%20mitigation%20guide.docx>https://download.microsoft.com/download/C/1/4/C14579CA-E564-4743-8B51-61C0882662AC/Windows%2010%20credential%20theft%20mitigation%20guide.docx</a></p><blockquote><p>Assume breach: two words that should change the way defenders think about compromise in their organization.
Microsoft investigations of attacks on customers all too often reveal success in compromising user and administrator account credentials, including domain and >enterprise administrator credentials. Technical features and capabilities alone are not enough: the most effective solution requires a planned approach as part of a >comprehensive security architecture that includes proper system administration and operation.</p></blockquote><p>This was initially published in 2016, and appears to have more recent advice.</p><h2 id=the-parts-people-didnt-read>The parts people didn&rsquo;t read</h2><h3 id=jump-servers>Jump Servers</h3><p>From section <code>Use jump servers to administer isolated network segments</code>:</p><blockquote><p>Although jump servers can provide utility in security architectures, they donâ€™t directly mitigate credential theft and reuse attacks. You cannot maintain security >integrity if a user connects to an administrative jump server from a lower-trust workstation.</p></blockquote><ul><li><blockquote><p>Jumpboxes are not a mitigation for credential theft</p></blockquote></li><li><blockquote><p>Jumpboxes are not a mitigation for credential theft</p></blockquote></li><li><blockquote><p>Jumpboxes are not a mitigation for credential theft</p></blockquote></li></ul><h3 id=primary-technical-controls---credential-guard>Primary Technical Controls - Credential Guard</h3><ul><li>Seems simple enough. Bypasses and tradecraft exist to work around this, but doesn&rsquo;t seem like bad advice all the same <a href=https://jblog.javelin-networks.com/blog/why-cant-credentials-guard-stop-lateral-movement/>https://jblog.javelin-networks.com/blog/why-cant-credentials-guard-stop-lateral-movement/</a></li></ul><h3 id=primary-technical-controls---restrict-and-protect-high-privilege-domain-accounts>Primary Technical Controls - Restrict and protect high-privilege domain accounts</h3><pre><code>Some organizations allow high-privilege accounts like those that are members of the Domain Admins group to perform general administrative tasks or log on to user desktops or other systems used for email and Internet browsing, exposing these credentials to potential attackers.
</code></pre><p>This is stuff like:</p><ul><li>Not having 90 users in the Domain Admins group</li><li>Not allowing DA to log into workstations</li></ul><p>Notably, this is one of the easy wins keeps appearing:</p><p><code>Do not configure services or schedule tasks that use privileged domain accounts on lower-trust systems, such as user workstations.</code></p></div></div><div class="footer wrapper"><nav class=nav><div></div></nav></div><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-141761824-1','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script></body></html>